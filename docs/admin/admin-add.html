<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <title>Admin qo'shish</title>
  <link rel="stylesheet" href="./login.css">
</head>
<body>
  <div class="login-box" style="max-width:700px; margin-top:40px;">
    <h2>Yangi Admin qo'shish</h2>

    <input id="fullName" placeholder="To'liq ism (masalan: Super Admin)" />
    <input id="username" placeholder="Username (unikal)" />
    <input id="email" placeholder="Email (ixtiyoriy)" />
    <input id="password" placeholder="Parol" />
    <select id="role">
      <option value="admin">admin</option>
      <option value="moderator">moderator</option>
      <option value="superadmin">superadmin</option>
    </select>

    <p id="msg" class="error"></p>

    <button onclick="addAdmin()" style="margin-top:10px;">Qo'shish</button>
    <button onclick="location.href='admins.html'" style="margin-top:8px;">Orqaga</button>
  </div>

  <script type="module">
    import { adminGuard } from "./admin.js";
    (async () => {
      const admin = await adminGuard("superadmin");
      if (!admin) return;
      // load script
      import("./admins.js");
    })();
  </script>
</body>
</html>

