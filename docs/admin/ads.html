<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ads boshqaruv</title>
  <!-- Sizning mavjud CSS fayllaringizni shu yerga qo'ying -->
  <link rel="stylesheet" href="ads.css" />
  <style>
    /* kichik styling fallback agar css yo'q bo'lsa */
    .hidden { display:none !important; }
    .btn { padding:6px 10px; border-radius:6px; border:1px solid #ddd; background:#f5f5f5; cursor:pointer; }
    .btn-green{ background:#1d9a4a; color:white; border:none; }
    .btn-danger{ background:#e3342f; color:white; border:none; }
    table { width:100%; border-collapse:collapse; }
    th, td { padding:10px; border-bottom:1px solid #eee; text-align:left; }
  </style>
</head>
<body>
  <main class="container mx-auto p-6">
    <h1 class="text-2xl font-bold mb-6">Ads boshqaruv</h1>

    <!-- Filters card -->
    <section class="bg-white p-6 rounded shadow mb-6">
      <div style="display:flex; gap:16px; flex-wrap:wrap;">
        <div style="flex:1 1 40%;">
          <label>Qidiruv</label>
          <input id="searchInput" placeholder="Qidirish: comment, region, district, userId..." style="width:100%; padding:10px; border-radius:6px; border:1px solid #ddd;" />
        </div>

        <div style="flex:1 1 20%;">
          <label>From Region</label>
          <select id="fromRegionFilter" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;">
            <option value="">Hammasi</option>
          </select>
        </div>

        <div style="flex:1 1 20%;">
          <label>To Region</label>
          <select id="toRegionFilter" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;">
            <option value="">Hammasi</option>
          </select>
        </div>

        <div style="flex:1 1 10%;">
          <label>Min Price</label>
          <input id="minPrice" type="number" value="0" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;" />
        </div>

        <div style="flex:1 1 10%;">
          <label>Max Price</label>
          <input id="maxPrice" type="number" value="99999999" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;" />
        </div>

        <div style="flex:1 1 12%;">
          <label>Seats ≥</label>
          <select id="seatsFilter" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;">
            <option value="">Hammasi</option>
            <option value="1">1+</option>
            <option value="2">2+</option>
            <option value="3">3+</option>
            <option value="4">4+</option>
            <option value="5">5+</option>
            <option value="6">6+</option>
          </select>
        </div>

        <div style="flex:1 1 14%;">
          <label>Kategoriya</label>
          <select id="categoryFilter" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;">
            <option value="">Hammasi</option>
          </select>
        </div>

        <div style="flex:1 1 20%;">
          <label>From District</label>
          <select id="fromDistrictFilter" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;">
            <option value="">Hammasi</option>
          </select>
        </div>

        <div style="flex:1 1 20%;">
          <label>To District</label>
          <select id="toDistrictFilter" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;">
            <option value="">Hammasi</option>
          </select>
        </div>

        <div style="flex:1 1 16%;">
          <label>Sana boshlanish</label>
          <input id="dateFrom" type="date" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;" />
        </div>

        <div style="flex:1 1 16%;">
          <label>Sana tugash</label>
          <input id="dateTo" type="date" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;" />
        </div>

        <div style="flex:1 1 18%;">
          <label>User ID</label>
          <input id="userIdFilter" placeholder="userId" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ddd;" />
        </div>

        <div style="flex:1 1 100%; display:flex; gap:10px; justify-content:flex-end; margin-top:6px;">
          <button id="applyFiltersBtn" class="btn btn-green">Filtrlash</button>
          <button id="resetFiltersBtn" class="btn">Tozalash</button>
        </div>
      </div>
    </section>

    <!-- Controls -->
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
      <div>
        <label>Sort by:</label>
        <select id="sortBy" style="padding:6px 10px; border-radius:6px; border:1px solid #ddd;">
          <option value="createdAt_desc">Date desc</option>
          <option value="createdAt_asc">Date asc</option>
          <option value="price_desc">Price desc</option>
          <option value="price_asc">Price asc</option>
        </select>
      </div>

      <div style="display:flex; align-items:center; gap:8px;">
        <button id="btnExportCsv" class="btn">Export CSV</button>
        <label style="display:flex; align-items:center; gap:6px;"><input id="realtimeToggle" type="checkbox" /> Real-time</label>
        <a class="btn" href="/docs/admin/dashboard.html">Dashboard</a>
      </div>
    </div>

    <!-- Table -->
    <section id="tableWrap" class="bg-white p-4 rounded shadow">
      <div id="loadingSkeleton" style="padding:20px;">
        <div style="height:16px; width:40%; background:#eee; border-radius:6px; margin-bottom:8px;"></div>
        <div style="height:16px; width:80%; background:#eee; border-radius:6px; margin-bottom:8px;"></div>
        <div style="height:16px; width:60%; background:#eee; border-radius:6px; margin-bottom:8px;"></div>
      </div>

      <table aria-describedby="ads table">
        <thead>
          <tr>
            <th>#</th>
            <th>From</th>
            <th>To</th>
            <th>Seats</th>
            <th>Price</th>
            <th>Category</th>
            <th>Created</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="adsTableBody" class="bg-white divide-y divide-gray-200">
          <!-- rows injected here -->
        </tbody>
      </table>

      <!-- Pagination -->
      <div style="display:flex; justify-content:space-between; align-items:center; margin-top:12px;">
        <div>
          <button id="prevPageBtn" class="btn">← Oldingi</button>
          <button id="nextPageBtn" class="btn">Keyingi →</button>
        </div>
        <div>
          <label>Page size:</label>
          <select id="pageSize" style="padding:6px 8px; border-radius:6px; border:1px solid #ddd;">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50" selected>50</option>
            <option value="100">100</option>
          </select>
        </div>
        <div class="text-sm text-gray-600" id="paginationInfo">0 / 0 sahifa — 0 e'lon</div>
      </div>
    </section>
  </main>

  <!-- SCRIPTS: first firebase wrapper (you already have) -->
  <script type="module" src="./firebase.js"></script>

  <!-- main ads module (will import firebase.js) -->
  <script type="module" src="./ads.module.js"></script>
</body>
</html>
