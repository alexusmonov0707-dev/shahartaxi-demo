<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Admin Login</title>
    <link rel="stylesheet" href="./login.css">
</head>

<body>

<div class="login-box">
    <h2>Admin Panelga Kirish</h2>

    <input type="text" id="username" placeholder="Login">
    <input type="password" id="password" placeholder="Parol">

    <button onclick="login()">Kirish</button>

    <p id="error" class="error"></p>
</div>


<script type="module">
import { loginAdmin } from "./admin.js";

window.login = async function () {
    const u = document.getElementById("username").value.trim();
    const p = document.getElementById("password").value.trim();
    const err = document.getElementById("error");

    err.textContent = "";

    const res = await loginAdmin(u, p);

    if (!res.ok) {
        err.textContent = res.error;
        return;
    }

    // SUCCESS â†’ dashboard ga kirish
    window.location.href = "./dashboard.html";
};
</script>

</body>
</html>
