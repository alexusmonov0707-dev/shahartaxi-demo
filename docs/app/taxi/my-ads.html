<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mening e’lonlarim — ShaharTaxi</title>

    <style>
        body { font-family: Arial; background:#f2f4f8; margin:0; }
        .topbar {
            background:#0069d9; padding:14px; color:white;
            display:flex; justify-content:space-between; align-items:center;
            font-size:20px;
        }
        button { cursor:pointer; }

        .card {
            max-width:900px; margin:20px auto; background:#fff;
            padding:20px; border-radius:12px;
            box-shadow:0 4px 12px rgba(0,0,0,0.08);
        }
        .ad-box {
            background:#f8faff; border:1px solid #ddd;
            border-radius:12px; padding:12px; margin-bottom:15px;
        }
        .blue-btn { background:#0069d9; color:white; padding:6px 12px; border:none; border-radius:6px; }
        .red-btn { background:#ff4444; color:white; padding:6px 12px; border:none; border-radius:6px; }

        #editAdModal {
            position:fixed; inset:0;
            background:rgba(0,0,0,0.6);
            display:none; justify-content:center; align-items:center;
            z-index:99999;
        }
        .modal-box {
            background:#fff; width:360px; padding:20px;
            border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.4);
        }
        select, input, textarea {
            width:100%; padding:10px; margin-top:10px;
            border-radius:6px; border:1px solid #ccc;
        }
    </style>
</head>

<body>

    <div class="topbar">
        <span>Mening e’lonlarim</span>
        <a href="../profile/profile.html" style="color:white; text-decoration:none;">Profil ←</a>
    </div>

    <div class="card">
        <div id="myAdsList">Yuklanmoqda...</div>
    </div>

    <!-- EDIT AD MODAL -->
    <div id="editAdModal">
        <div class="modal-box">
            <h3>E’lonni tahrirlash</h3>

            <label>Qayerdan (Viloyat)</label>
            <select id="editFromRegion" onchange="updateEditDistricts('from')"></select>

            <label>Tuman</label>
            <select id="editFromDistrict"></select>

            <label>Qayerga (Viloyat)</label>
            <select id="editToRegion" onchange="updateEditDistricts('to')"></select>

            <label>Tuman</label>
            <select id="editToDistrict"></select>

            <input id="editPrice" placeholder="Narx">
            <input id="editTime" type="datetime-local">
            <input id="editSeats" placeholder="Joylar/yo‘lovchilar soni" type="number">
            <textarea id="editComment" rows="3" placeholder="Izoh"></textarea>

            <div style="display:flex; gap:10px; margin-top:10px;">
                <button onclick="saveAdEdit()" class="blue-btn" style="flex:1;">Saqlash</button>
                <button onclick="closeEditAd()" class="red-btn" style="flex:1;">Bekor</button>
            </div>
        </div>
    </div>

    <!-- IMPORTANT: correct regions path -->
   <script type="module" src="/shahartaxi-demo/docs/assets/regions-taxi.js"></script>
   <script type="module" src="/shahartaxi-demo/docs/assets/regions-helper.js"></script>

<!-- MY ADS LOGIC -->
<script type="module" src="/shahartaxi-demo/docs/app/taxi/my-ads.js"></script>


</body>
</html>
