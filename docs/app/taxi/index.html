<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShaharTaxi — E'lonlar</title>

  <!-- Existing project CSS (yoʻlni sizga moslab qoldirdim) -->
  <link rel="stylesheet" href="../../style.css" />

  <style>
    /* Kichik qo'shimcha styling (agar kerak bo'lsa) */
    .filters { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 18px; }
    .filters-row { display:flex; gap:12px; align-items:center; }
    .ads-list { min-height: 220px; background:#fff; border-radius:8px; padding:18px; box-shadow:0 1px 2px rgba(0,0,0,0.05);}
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px 10px; text-align: left; border-bottom: 1px solid #eee; }
    .controls { display:flex; gap:8px; align-items:center; }
    .btn { padding:8px 14px; border-radius:6px; cursor:pointer; border:0; }
    .btn-primary { background:#0ea5e9; color:#fff; }
    .btn-danger { background:#ef4444; color:#fff; }
    .muted { color:#6b7280; }
    .empty { padding:40px; text-align:center; color:#9ca3af; }
  </style>
</head>
<body>
  <main style="max-width:1100px;margin:28px auto;padding:0 16px;">
    <h1>ShaharTaxi — E'lonlar</h1>

    <!-- Filters -->
    <section class="filters" style="margin-top:18px;">
      <div>
        <div class="filters-row">
          <input id="searchInput" placeholder="Izlash: region, comment, user..." style="flex:1;padding:10px;border-radius:6px;border:1px solid #e5e7eb;" />
          <select id="fromRegion" style="padding:10px;border-radius:6px;border:1px solid #e5e7eb;">
            <option value="">Barchasi</option>
          </select>
          <select id="fromDistrict" style="padding:10px;border-radius:6px;border:1px solid #e5e7eb;">
            <option value="">From district</option>
          </select>
          <select id="toRegion" style="padding:10px;border-radius:6px;border:1px solid #e5e7eb;">
            <option value="">Barchasi</option>
          </select>
          <select id="toDistrict" style="padding:10px;border-radius:6px;border:1px solid #e5e7eb;">
            <option value="">To district</option>
          </select>
        </div>

        <div class="filters-row" style="margin-top:10px;">
          <input id="minPrice" placeholder="Min narx" style="padding:10px;border-radius:6px;border:1px solid #e5e7eb;width:120px;" />
          <input id="maxPrice" placeholder="Max narx" style="padding:10px;border-radius:6px;border:1px solid #e5e7eb;width:120px;" />
          <select id="sortBy" style="padding:10px;border-radius:6px;border:1px solid #e5e7eb;">
            <option value="createdAt_desc">Yangi — Eski</option>
            <option value="createdAt_asc">Eski — Yangi</option>
            <option value="price_asc">Narx ↑</option>
            <option value="price_desc">Narx ↓</option>
          </select>

          <div class="controls" style="margin-left:auto">
            <button id="filterBtn" class="btn btn-primary">Filtrlash</button>
            <button id="resetBtn" class="btn" style="background:#f3f4f6;border-radius:6px">Tozalash</button>
          </div>
        </div>
      </div>

      <!-- Right column: quick filters/help -->
      <div>
        <div style="background:#fff;padding:18px;border-radius:8px;box-shadow:0 1px 2px rgba(0,0,0,0.04);">
          <h3 style="margin:0 0 12px 0">Tez filtrlash</h3>
          <label style="display:block;margin-bottom:8px"><input id="onlyEmpty" type="checkbox" /> Faqat bo'sh joylar</label>
          <label style="display:block;margin-bottom:8px"><input id="withContact" type="checkbox" /> Kontakt bilan</label>
          <div style="margin-top:12px">
            <button id="quickApply" class="btn btn-primary">Qayta tiklash</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Results -->
    <section>
      <div class="ads-list">
        <div id="loading" class="muted">Yuklanmoqda...</div>
        <div id="adsTableWrap" style="display:none;">
          <table id="adsTable">
            <thead>
              <tr>
                <th>#</th>
                <th>From</th>
                <th>To</th>
                <th>Seats</th>
                <th>Price</th>
                <th>Category</th>
                <th>Created</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="adsBody"></tbody>
          </table>
        </div>
        <div id="empty" class="empty" style="display:none;">Hech nima topilmadi</div>
      </div>

      <!-- Pagination -->
      <div style="display:flex;align-items:center;justify-content:center;margin-top:14px;">
        <button id="prevPage" class="btn" style="background:#f3f4f6">← Oldingi</button>
        <div style="padding:0 12px" id="paginationInfo">0 / 0</div>
        <button id="nextPage" class="btn" style="background:#f3f4f6">Keyingi →</button>
      </div>
    </section>
  </main>

  <!-- libs and index script (module) -->
  <script type="module" src="../../libs/lib.js"></script>
  <script type="module" src="./index.js"></script>
</body>
</html>
